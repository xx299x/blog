+++
title = "小商同学 1.1"
date = 2019-08-30
lastmod = 2019-09-23T18:27:41+08:00
tags = ["Python", "机器人"]
categories = ["@工具", "@原创"]
draft = false
+++

## **简介** {#简介}

主要用于班委的信息收集，学校有各种各样的信息需要收集。

本可以搞一个信息收集平台就可以解决诸多的问题。

实时更新的。

实在想吐槽吐槽晚自习，9102 年了，用电脑学习效率更高好嘛。。。

<!--more-->


## **快速开始** {#快速开始}

如果你是 **班级成员** ，你只需要知道一个命令就可以啦

`2 消息`

上述命令中的消息可以随意替换，如果是公假信息，可以变为

`2 学习部公假`

如果是统计性别年龄，可以是

`2 男 18`

如果你是 **班级管理员并且想用该功能** ，请按照下面的步骤来~


### **准备工作** {#准备工作}

首先需要准备以下内容:

1.  班级同学必须在班级群内
2.  群名片格式必须为 `[学号] [姓名]` , 例如 `01 张三`
3.  必须有个班级id ,以可以方便辨认为原则, 如 `swsj_181`
4.  将你的 `班级id`, `管理员QQ`, `班级群号` 发送给超级管理员.

另外，腾讯的原因，初次使用小商同学无法直接给好友发送消息，需要让主动加小商好友并发送一条消息，这样小商同学和好友直接就建立起沟通的桥梁啦。


### **例子** {#例子}

班级同学发送 `2 学习部公假`

管理员可以通过 `统计 查看` ,看到所有已经发送该消息的人员名单及信息.


## **功能介绍** {#功能介绍}

目前的小商同学只支持统计功能，和班级通知功能。

当然还可以写更方便的功能，比如说定时发送提示信息，搞个课表，提醒在那个教室上课之类的。

这些功能以后有时间再慢慢添加，精力有限。

下面详细介绍了统计功能和班级通知功能。


### **统计** {#统计}

有三种类型, 普通用户, 班级管理员, 超级管理员. 类型不同, 权限也不同.

简单的说，普通用户就只是发送信息，是被统计的人群。班级管理员，也就查看班级的统计信息，以及添加管理员等等一些权限。


#### **普通用户** {#普通用户}

-    **被统计命令**

    命令有:

    `2 学习部公假`

    以上的学习部公假可更换为任何消息. 2 后面的所有文字都会被记录.

    只有 **小商同学管理的班级中的同学** 才会被记录, 如果你的班级需要被记录管理, 请联系超级管理员.

-    **查询课表功能**

    ```nil
    2019 年 9 月 13 日 01:38:11
    ```

    命令有：

    `课表`

    只需要发送 `课表` 即可得到课表的链接。第一次使用需要添加你们班的课表到数据库，目前仅支持超级管理添加课表。


#### **管理员** {#管理员}

-    **查看统计结果**

    命令有:

    1.  `统计 查看`
    2.  `统计 查看 剩余`
    3.  `统计 查看 不排序`
    4.  `统计 查看 剩余 不排序`
    5.  `统计 查看 不排序 剩余`

    该命令是查看当前统计结果,默认情况下查看现在已经发送过统计信息的人.

    例如: 一位同学发送了 `2 学习部公假` , 那么执行该命令就可以看到该同学的信息.

    另外, 有两个可选参数, `剩余`, `不排序` .

    `剩余` 指的是 **没有发送统计信息的人** 这个命令在晚自习人没到齐且没发统计消息的时候十分有用.

    `不排序` 指的是 **不按照学号进行排序, 按照发送的时间排序, 也就是说, 第一个发送统计信息的人排在第一位, 第二个发送统计信息的人排在第二位, 不管其学号顺序**

-    **添加管理员**

    命令有:

    1.  `统计 添加管理员 管理员qq`

    示例命令：

    1.  `统计 添加管理员 100000`

    _注意：被添加的管理员必须在班级群内_

    用于添加管理员信息, 可以使用 `查看统计结果` 命令.

-    **重置统计**

    命令有:

    1.  `统计 重置统计`

    当一个统计结束, 或者作废时, 可以将它重置, 也就是将当前已经统计的数据清空, 开始重新统计.

-    **提示同学发送消息**

    命令有:

    1.  `统计 提示`
    2.  `统计 提示 提示语`

    当重置统计后, 可以使用该命令快速通知 **没有发送统计信息的同学** 发送消息, 以便快速完成统计. 发送的默认消息为:

    > 签到 若已到 拖拽右边的小红点忽略消息，如果到了有公假或者有事回复  '2+空格+原因',
    > 例如
    > 2 学习部公假

    ~~目前暂不支持自定义, 如想手动给全班发送消息. 请查看 `通知` 命令.~~

    <span class="timestamp-wrapper"><span class="timestamp">[2019-09-10 周二] </span></span> 更新：

    支持自定义提示消息，只需在提示后面跟提示语就可以啦~

-    **重置班级人员命令**

    命令有:

    1.  `统计 重置 班级群号`

    示例命令：

    1.  `统计 重置 32131331`

    如果在添加班级时, 有些同学没有被 `小商` 收录, 那么把群命令更改正确之后, 会重新获取班级信息.

-   <span class="org-todo todo TODO">TODO</span>  **定时发送消息并重置**...

-   <span class="org-todo todo TODO">TODO</span>  ...


#### **超级管理员**... {#超级管理员-dot-dot-dot}

超级管理员权限当然比较高，拥有添加班级，查看班级统计结果的权限。发送通知和其他命令暂时不支持。主要是方便班助，或者年级统计人员查看统计信息。

-    **添加新的班级到小商同学**

    命令有：

    1.  `统计 创建 班级id 班级管理员QQ 群号`

    **班级 id** ： 指的是班级的英文名称，必须使用专业名称前 2-4 字母再加上班级，如 `swsj_181` ， `rj_181` `dzsw_181` etc...

    **班级管理员 QQ** ： 指的是班级班委的 QQ 号，任意一人就好，后续可参考 `统计添加管理员` 命令自行添加其他管理员。

    **群号** ： 你们班级的 QQ 群

    完整命令示例如下：

    `统计 创建 rj_181 110000 100000`


### **通知** {#通知}

通知功能也很简单，用小商同学给班里的人发送消息。


#### **给全部同学发送消息** {#给全部同学发送消息}

命令有:

1.  `通知 [消息内容]`

例如:

`通知 今天晚上晚自习取消哈`

该命令会给班级所有人发送这条消息.

使用技巧：该命令可以和统计命令的配合使用，重置统计后，可以使用该命令提示统计的内容。 例如： `通知 参加周六聚会的发 2，不参加的不用发` 然后同学们纷纷发 2。

若有人发统计信息不及时，也可以使用该命令提示。
